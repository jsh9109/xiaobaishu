<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¤©èµ‹æµ‹è¯„ - å‘ç°ä½ çš„10å¤§å¤©èµ‹ä¼˜åŠ¿</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ================= è§†è§‰ç³»ç»Ÿ ================= */
        :root {
            --primary: #667eea;
            --primary-dark: #764ba2;
            --bg-body: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #333333;
            --red-price: #d63031;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 15px;
            color: var(--text-main);
            line-height: 1.6;
        }

        .container { max-width: 650px; margin: 0 auto; padding-bottom: 50px; }
        .hidden { display: none !important; }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.1);
            margin-bottom: 20px;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* é¦–é¡µæ ·å¼ */
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            font-size: 28px; font-weight: 800; margin-bottom: 8px;
        }
        .talent-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 25px 0; }
        .talent-item { text-align: center; padding: 10px 5px; background: #f8f9ff; border-radius: 12px; border: 1px solid #eef2ff; }
        .talent-icon { font-size: 24px; display: block; margin-bottom: 5px; }
        .talent-name { font-size: 12px; color: #555; }
        .feature-box { background: #fffdf5; border: 2px solid #ffeaa7; padding: 20px; border-radius: 15px; margin: 25px 0; }
        .feature-list li { list-style: none; margin-bottom: 8px; font-size: 14px; display: flex; align-items: center; }
        .feature-list li:before { content: "âœ…"; margin-right: 8px; font-size: 12px; }
        .highlight-text { color: #d63031; font-weight: bold; border-bottom: 1px dashed #d63031; }
        .input-group input { width: 100%; padding: 15px; border: 2px solid #eee; border-radius: 12px; text-align: center; font-size: 16px; margin-bottom: 15px; }
        .btn-start { width: 100%; padding: 16px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 50px; font-size: 18px; font-weight: bold; cursor: pointer; box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4); }

        /* ç­”é¢˜é¡µæ ·å¼ */
        .progress-bar { height: 8px; background: #eee; border-radius: 4px; margin-bottom: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
        .question-text { font-size: 18px; font-weight: bold; color: #333; margin-bottom: 25px; }
        .option { padding: 15px; background: #f8f9fa; border: 1px solid #eee; border-radius: 12px; margin-bottom: 10px; cursor: pointer; transition: all 0.2s; font-size: 15px; }
        .option.selected { background: #eef2ff; border-color: var(--primary); color: var(--primary); font-weight: bold; }
        .nav-buttons { display: flex; gap: 15px; margin-top: 30px; }
        .nav-btn { flex: 1; padding: 14px; border-radius: 10px; border: none; font-size: 15px; cursor: pointer; font-weight: bold; }
        .btn-prev { background: #f1f2f6; color: #666; }
        .btn-next { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }

        /* ç»“æœé¡µæ ·å¼ */
        .result-header { text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px 20px; border-radius: 20px 20px 0 0; margin: -25px -25px 20px -25px; }
        
        .free-score-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin: 15px 0; }
        .score-card-mini { background: #f8f9fa; padding: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 3px solid #ddd; }
        .score-card-mini.high { border-left-color: #667eea; background: #f0f4ff; }
        .sc-name { font-size: 13px; color: #555; font-weight: bold; }
        .sc-val { font-size: 15px; color: #333; font-weight: 800; }

        .free-analysis-detail { background: #fff; border: 1px solid #eef2ff; border-radius: 12px; padding: 15px; margin: 15px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.03); }
        .analysis-point { margin-bottom: 10px; font-size: 14px; color: #444; line-height: 1.5; }
        .point-title { color: #667eea; font-weight: bold; font-size: 15px; margin-bottom: 5px; display: flex; align-items: center; gap: 6px; }
        .point-tag { background: #eef2ff; color: #667eea; padding: 2px 8px; border-radius: 4px; font-size: 12px; }

        .pay-card { background: #fff; border: 2px solid #ff7675; border-radius: 16px; padding: 25px 15px; text-align: center; margin-top: 30px; }
        .price-tag { font-size: 42px; font-weight: 800; color: #d63031; line-height: 1; margin: 10px 0; }
        
        .qr-section { margin: 20px 0; }
        .qr-wrapper { display: flex; justify-content: center; gap: 20px; margin-top: 10px; }
        .qr-box { width: 130px; text-align: center; } 
        .qr-head { color: white; font-size: 12px; padding: 5px; border-radius: 6px 6px 0 0; font-weight: bold; }
        .head-wx { background: #07C160; }
        .head-ali { background: #1677FF; }
        .qr-img { width: 100%; display: block; border: 1px solid #eee; border-top: none; border-radius: 0 0 6px 6px; }

        .blur-container { position: relative; background: #fff; border: 1px solid #eee; border-radius: 12px; padding: 20px; overflow: hidden; margin: 25px 0; }
        .blur-content { filter: blur(5px); opacity: 0.7; user-select: none; }
        .lock-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.95) 60%); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }
        .unlock-btn { background: linear-gradient(135deg, #ff6b6b 0%, #ee5253 100%); color: white; border: none; padding: 12px 30px; border-radius: 50px; font-size: 16px; font-weight: bold; box-shadow: 0 6px 20px rgba(238, 82, 83, 0.4); cursor: pointer; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }
        
        .quick-pay-btn { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 8px; border: none; color: white; font-weight: bold; font-size: 15px; display: flex; align-items: center; justify-content: center; gap: 8px; cursor: pointer; }
        .btn-ali { background: #1677FF; }
        .btn-wx { background: #07C160; }
        
        .copy-box { background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 20px 0; text-align: left; }
        .copy-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 14px; }
        .copy-btn { background: #667eea; color: white; border: none; padding: 4px 10px; border-radius: 4px; font-size: 12px; }
        
        .upload-btn { background: #d63031; color: white; width: 100%; padding: 15px; border-radius: 10px; font-size: 16px; font-weight: bold; display: flex; align-items: center; justify-content: center; margin-top: 10px; cursor: pointer; box-shadow: 0 4px 0 #b71c1c; }
        .after-pay-guide { margin-top: 15px; background: #fff3e0; border: 1px dashed #ffb74d; border-radius: 8px; padding: 12px; text-align: left; font-size: 13px; color: #e65100; }

        /* æˆåŠŸé¡µ */
        .delivery-card { background: #E8F5E9; border: 2px solid #2E7D32; border-radius: 16px; padding: 25px 20px; margin: 25px 0; text-align: center; }
        .link-info-box { background: white; border-radius: 10px; padding: 15px; margin: 20px 0; text-align: left; }
        .link-val { font-family: monospace; font-weight: bold; background: #F5F5F5; padding: 2px 6px; border-radius: 4px; word-break: break-all; }
        .btn-copy-big { width: 100%; padding: 15px; background: #2E7D32; color: white; border: none; border-radius: 50px; font-size: 16px; font-weight: bold; }
        .content-box { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 20px; text-align: justify; font-size: 15px; line-height: 1.8; color: #444; }
        .section-title { font-size: 18px; font-weight: bold; color: var(--primary); margin-bottom: 10px; border-left: 4px solid var(--primary); padding-left: 10px; }
        
        /* èŒä¸šåˆ—è¡¨æ ·å¼ */
        .job-category { margin-bottom: 15px; }
        .job-cat-title { font-weight: bold; color: #333; margin-bottom: 8px; font-size: 15px; background: #eef2ff; padding: 5px 10px; border-radius: 6px; display: inline-block; }
        .job-list { display: flex; flex-wrap: wrap; gap: 8px; }
        .job-tag { background: white; border: 1px solid #ddd; padding: 4px 10px; border-radius: 4px; font-size: 13px; color: #555; }

        /* æ‹›å‹Ÿå­¦å¾’æ ·å¼ */
        .recruit-card { background: #f8f9ff; border: 1px dashed #667eea; border-radius: 12px; padding: 15px; text-align: center; margin-top: 30px; }
        .recruit-copy-box { display: flex; align-items: center; justify-content: center; gap: 10px; background: white; padding: 8px 15px; border-radius: 20px; width: fit-content; margin: 10px auto 0 auto; border: 1px solid #eef2ff; }
        .copy-btn-orange { background: #FF9800; color: white; border: none; padding: 4px 10px; border-radius: 4px; font-size: 12px; cursor: pointer; }

        /* åå°æ ·å¼ */
        .admin-stat { background: #f8f9ff; padding:10px; border-radius:8px; margin-bottom:10px; text-align:center; }
        .admin-btn { width:100%; padding:10px; background:#667eea; color:white; border:none; border-radius:8px; margin-top:10px; cursor:pointer; }
        .card-list { max-height:200px; overflow-y:auto; background:#f1f1f1; padding:10px; border-radius:8px; font-family:monospace; margin-top:10px; font-size:12px;}
    </style>
</head>
<body>

<div class="container">

    <div id="verifyPage" class="card">
        <div class="header">
            <h1>ğŸ¯ å¤©èµ‹æµ‹è¯„ç³»ç»Ÿ</h1>
            <p>å‘ç°ä½ çš„10å¤§å¤©èµ‹ä¼˜åŠ¿ Â· æ‰¾åˆ°æœ€é€‚åˆçš„èŒä¸šæ–¹å‘</p>
        </div>

        <div class="talent-grid">
            <div class="talent-item"><span class="talent-icon">ğŸ—ºï¸</span><span class="talent-name">ç©ºé—´</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸ’¬</span><span class="talent-name">è¯­è¨€</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸ§®</span><span class="talent-name">é€»è¾‘</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸ¨</span><span class="talent-name">ç»˜ç”»</span></div>
            <div class="talent-item"><span class="talent-icon">âœ¨</span><span class="talent-name">ç¾å­¦</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸµ</span><span class="talent-name">éŸ³ä¹</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸ‘¥</span><span class="talent-name">äººé™…</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸ’¡</span><span class="talent-name">åˆ›é€ </span></div>
            <div class="talent-item"><span class="talent-icon">ğŸƒ</span><span class="talent-name">åŠ¨è§‰</span></div>
            <div class="talent-item"><span class="talent-icon">ğŸ§˜</span><span class="talent-name">å†…çœ</span></div>
        </div>

        <div class="feature-box">
            <h3 style="font-size:16px; margin-bottom:10px; color:#333;">ğŸ“‹ æµ‹è¯„åŒ…å«ï¼š</h3>
            <ul class="feature-list">
                <li>10å¤§å¤©èµ‹ç»´åº¦å…¨é¢é›·è¾¾å›¾åˆ†æ</li>
                <li>40é“ä¸“ä¸šå¿ƒç†å­¦æµ‹è¯•é¢˜ç›®</li>
                <li><span class="highlight-text">è§£é”50+ç²¾å‡†èŒä¸šæ¨è (é™æ—¶ç‰¹æƒ  Â¥2.99)</span></li>
            </ul>
        </div>

        <div class="input-group">
            <input type="text" id="cardCode" placeholder="è¯·è¾“å…¥æµ‹è¯„å¡å·" maxlength="20">
            <div id="errorMessage" style="color:red; font-size:12px; margin-top:5px; display:none;"></div>
        </div>

        <button class="btn-start" onclick="verifyCard()">å¼€å§‹æµ‹è¯„</button>
        <div style="text-align:center; margin-top:20px; font-size:12px; color:#ccc; cursor:pointer;" onclick="showAdminPanel()">ç®¡ç†å‘˜å…¥å£ -></div>
    </div>

    <div id="testPage" class="card hidden">
        <div style="display:flex; justify-content:space-between; color:#999; font-size:13px; margin-bottom:5px;">
            <span id="progressText">è¿›åº¦ 1/40</span>
            <span>å•é€‰</span>
        </div>
        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
        <div class="question-text" id="questionText"></div>
        <div id="options"></div>
        
        <div class="nav-buttons">
            <button class="nav-btn btn-prev" onclick="prevQ()" id="prevBtn" style="visibility:hidden">ä¸Šä¸€é¢˜</button>
            <button class="nav-btn btn-next" onclick="nextQ()">ä¸‹ä¸€é¢˜</button>
        </div>
    </div>

    <div id="resultPage" class="card hidden" style="padding:0;">
        <div class="result-header">
            <h2>ğŸ‰ æµ‹è¯„å®Œæˆ</h2>
            <p id="resultName">ä½ çš„å¤©èµ‹åŸºå› å·²è§£ç </p>
        </div>

        <div style="padding: 0 20px 20px 20px;">
            <div style="height:260px; position:relative; width:100%;">
                <canvas id="radarChart"></canvas>
            </div>

            <div style="margin-top:15px;">
                <h3 style="font-size:15px; color:#333; margin-bottom:8px;">ğŸ“Š 10å¤§ç»´åº¦è¯¦ç»†å¾—åˆ†</h3>
                <div class="free-score-grid" id="allScoresGrid"></div>
            </div>

            <div class="free-analysis-detail" id="freeAnalysisBox"></div>

            <div class="blur-container">
                <div class="blur-content">
                    <h3 style="color:#333; margin-bottom:10px;">ğŸ’¼ æ‚¨çš„æœ€ä½³èŒä¸šåŒ¹é… (50+)</h3>
                    <p class="blur-text-sim">1. <strong>é«˜çº§æ¶æ„å¸ˆ</strong>ï¼šå¹´è–ªèŒƒå›´ 30w-80wï¼Œæ‚¨çš„é€»è¾‘æ€ç»´...</p>
                    <p class="blur-text-sim">2. <strong>æ¸¸æˆåŸç”»å¸ˆ</strong>ï¼šç»“åˆæ‚¨çš„ç»˜ç”»å¤©èµ‹ï¼Œè¿™æ˜¯å‘æŒ¥...</p>
                    <h3 style="color:#333; margin-top:20px; margin-bottom:10px;">ğŸ“ˆ æœªæ¥3å¹´æˆé•¿è·¯å¾„</h3>
                    <p class="blur-text-sim">ç¬¬ä¸€é˜¶æ®µï¼šé‡ç‚¹åŸ¹å…»æ‚¨çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œé€šè¿‡å‚åŠ ...</p>
                </div>
                <div class="lock-overlay">
                    <div style="font-size:40px; margin-bottom:10px;">ğŸ”’</div>
                    <p style="color:#555; font-weight:bold; margin-bottom:15px;">è§£é”æŸ¥çœ‹å®Œæ•´ 50+ èŒä¸šæ¨è</p>
                    <button class="unlock-btn" onclick="scrollToPay()">ç«‹å³è§£é” (ä»…éœ€ Â¥2.99)</button>
                </div>
            </div>

            <div id="paySection" class="pay-card">
                <div style="font-size:16px; font-weight:bold; color:#333;">è§£é”å®Œæ•´å¤©èµ‹æŠ¥å‘Š + èŒä¸šæŒ‡å—</div>
                <div class="price-tag">Â¥2.99</div>
                <div style="text-decoration:line-through; color:#999; font-size:14px;">åŸä»· Â¥29.9</div>

                <div style="margin:20px 0;">
                    <button class="quick-pay-btn btn-ali" onclick="aliPay()">âš¡ æ”¯ä»˜å®è·³è½¬æ”¯ä»˜</button>
                    <button class="quick-pay-btn btn-wx" onclick="scrollToQR()">âš¡ å¾®ä¿¡å¿«æ·æ”¯ä»˜</button>
                </div>

                <div style="display:flex; align-items:center; color:#ccc; margin:15px 0;">
                    <div style="flex:1; height:1px; background:#eee;"></div>
                    <div style="padding:0 10px; font-size:12px;">æˆ–æ‰«ç æ”¯ä»˜</div>
                    <div style="flex:1; height:1px; background:#eee;"></div>
                </div>

                <div class="qr-section">
                    <div class="qr-wrapper">
                        <div class="qr-box">
                            <div class="qr-head head-wx">å¾®ä¿¡æ”¯ä»˜</div>
                            <img src="wechat_qrcode.jpg" class="qr-img" alt="å¾®ä¿¡">
                        </div>
                        <div class="qr-box">
                            <div class="qr-head head-ali">æ”¯ä»˜å®</div>
                            <img src="alipay_qrcode.png" class="qr-img" alt="æ”¯ä»˜å®">
                        </div>
                    </div>
                    <div style="font-size:12px; color:#999; margin-top:10px;">ğŸ’¡ æç¤ºï¼šæˆªå›¾ä¿å­˜äºŒç»´ç  -> æ‰“å¼€APPæ‰«ä¸€æ‰«</div>
                </div>

                <div class="copy-box">
                    <div style="font-size:12px; color:#999; margin-bottom:10px;">æˆ–å¤åˆ¶è´¦å·è½¬è´¦ï¼š</div>
                    <div class="copy-row"><span>å¾®ä¿¡ï¼šjsh9109</span><button class="copy-btn" onclick="copyTxt('jsh9109')">å¤åˆ¶</button></div>
                    <div class="copy-row"><span>æ”¯ä»˜å®ï¼š313360631@qq.com</span><button class="copy-btn" onclick="copyTxt('313360631@qq.com')">å¤åˆ¶</button></div>
                </div>

                <label for="fileInput" class="upload-btn">ğŸ“¸ ä¸Šä¼ ä»˜æ¬¾æˆªå›¾ï¼Œè‡ªåŠ¨å‡ºæŠ¥å‘Š</label>
                <input type="file" id="fileInput" accept="image/*" class="hidden" onchange="handleUpload(event)">

                <div class="after-pay-guide">
                    <strong>â“ ä»˜æ¬¾åå¦‚ä½•è·å–æŠ¥å‘Šï¼Ÿ</strong><br>
                    1. æˆªå›¾ä¿å­˜æ‚¨çš„æ”¯ä»˜å‡­è¯<br>
                    2. ç‚¹å‡»ä¸Šæ–¹çº¢è‰²â€œä¸Šä¼ ä»˜æ¬¾æˆªå›¾â€æŒ‰é’®<br>
                    3. ç³»ç»Ÿæ ¸éªŒå<strong>è‡ªåŠ¨è·³è½¬</strong>æ˜¾ç¤ºå®Œæ•´æŠ¥å‘Š
                </div>
            </div>

            <div class="recruit-card">
                <div style="font-weight:bold; color:#667eea; margin-bottom:5px;">ğŸ“¢ æ‹›å¿ƒç†æµ‹è¯•é¡¹ç›®å­¦å¾’</div>
                <div style="color:#666; font-size:13px;">é¡¹ç›®å®æ“ Â· æµé‡å˜ç° Â· é•¿æœŸå¸¦æ•™</div>
                <div class="recruit-copy-box">
                    <span style="font-weight:bold; color:#333;">HCH91178</span>
                    <span style="color:#999; font-size:12px;">(å¤‡æ³¨:å­¦ä¹ æµ‹è¯•)</span>
                    <button class="copy-btn-orange" onclick="copyWx()">å¤åˆ¶</button>
                </div>
            </div>
        </div>
    </div>

    <div id="detailedPage" class="card hidden">
        <div class="result-header" style="background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);">
            <h2>âœ¨ å®Œæ•´æ·±åº¦åˆ†ææŠ¥å‘Š</h2>
            <p id="detailedName">ä½ çš„å¤©èµ‹è¯¦ç»†è§£è¯»</p>
        </div>

        <div style="height:300px; position:relative; margin:20px 0;">
            <canvas id="radarChart2"></canvas>
        </div>

        <div class="report-section">
            <h3 class="section-title">ğŸ“Š ç»¼åˆå¤©èµ‹åˆ†æ</h3>
            <div class="content-box" id="overallAnalysis"></div>
        </div>

        <div class="report-section">
            <h3 class="section-title">ğŸ’¼ 50+ ç²¾å‡†èŒä¸šå‘å±•å»ºè®®</h3>
            <div class="content-box" id="careerAdvice"></div>
        </div>

        <div class="report-section">
            <h3 class="section-title">ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿ä¸æå‡æ–¹å‘</h3>
            <div class="content-box" id="strengthsAnalysis"></div>
        </div>

        <div class="report-section">
            <h3 class="section-title">ğŸ“ˆ ä¸ªæ€§åŒ–æˆé•¿è·¯å¾„</h3>
            <div class="content-box" id="growthPath"></div>
        </div>

        <div class="recruit-card">
            <div style="font-weight:bold; color:#667eea; margin-bottom:5px;">ğŸ“¢ æ‹›å¿ƒç†æµ‹è¯•é¡¹ç›®å­¦å¾’</div>
            <div style="color:#666; font-size:13px;">é¡¹ç›®å®æ“ Â· æµé‡å˜ç° Â· é•¿æœŸå¸¦æ•™</div>
            <div class="recruit-copy-box">
                <span style="font-weight:bold; color:#333;">HCH91178</span>
                <span style="color:#999; font-size:12px;">(å¤‡æ³¨:å­¦ä¹ æµ‹è¯•)</span>
                <button class="copy-btn-orange" onclick="copyWx()">å¤åˆ¶</button>
            </div>
        </div>

        <div style="text-align:center; margin-top:30px; color:#999; font-size:12px; padding-top:20px; border-top:1px solid #eee;">
            <p>å¦‚éœ€å¸®åŠ©è¯·è”ç³»å®¢æœå¾®ä¿¡ï¼šHCH91178</p>
            <p>å¤‡æ³¨ï¼šå¤©èµ‹æµ‹è¯„</p>
        </div>
    </div>

    <div id="adminPage" class="card hidden">
        <h3 style="text-align:center; margin-bottom:15px;">ğŸ”§ åå°ç®¡ç†</h3>
        <input type="password" id="adminPwdInput" placeholder="è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç " style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #eee; border-radius:8px;">
        <button class="btn-start" onclick="loginAdmin()">ç™»å½•</button>
        
        <div id="adminContent" class="hidden" style="margin-top:20px;">
            <div class="admin-stat">
                <div style="font-size:24px; font-weight:bold; color:#667eea;" id="validCount">0</div>
                <div style="font-size:12px; color:#666;">å¯ç”¨å¡å¯†</div>
            </div>
            
            <div style="margin-top:15px;">
                <h4 style="font-size:14px; margin-bottom:8px;">ç”Ÿæˆæ–°å¡å¯†</h4>
                <div style="display:flex; gap:10px;">
                    <input type="number" id="genCount" value="10" style="width:80px; padding:8px; border:1px solid #eee; border-radius:4px;">
                    <button class="admin-btn" style="margin-top:0;" onclick="genCards()">ç”Ÿæˆ</button>
                </div>
            </div>

            <div style="margin-top:15px;">
                <h4 style="font-size:14px; margin-bottom:8px;">å¡å¯†åˆ—è¡¨ (æœ€æ–°50æ¡)</h4>
                <div class="card-list" id="cardList"></div>
            </div>
            
            <button onclick="exportCards()" class="admin-btn" style="background:#00b894;">å¯¼å‡ºæ‰€æœ‰å¡å¯†</button>
            <button onclick="location.reload()" class="admin-btn" style="background:#ccc; color:#333;">é€€å‡ºåå°</button>
        </div>
    </div>

</div>

<script>
    const CONFIG = {
        MASTER_CODE: "GEMINI-MASTER",
        ADMIN_PWD: "lss900201", 
        SERVER_KEY: "SCT303445TGU9j8Q5VLg6rT7eryLe8L41v",
        ALIPAY_URL: "https://qr.alipay.com/tsx15981nt9c4aydmvo2h3d"
    };

    const dimensionNames = {
        'A': 'ç©ºé—´', 'B': 'è¯­è¨€', 'C': 'é€»è¾‘', 'D': 'ç»˜ç”»', 'E': 'ç¾å­¦',
        'F': 'éŸ³ä¹', 'G': 'äººé™…', 'H': 'åˆ›é€ ', 'I': 'åŠ¨è§‰', 'J': 'å†…çœ'
    };

    // èŒä¸šåº“
    const careerDB = {
        'A': ['å»ºç­‘å¸ˆ', 'å®¤å†…è®¾è®¡å¸ˆ', 'åŸå¸‚è§„åˆ’å¸ˆ', 'æ™¯è§‚è®¾è®¡å¸ˆ', 'ç»“æ„å·¥ç¨‹å¸ˆ', 'æµ‹ç»˜å·¥ç¨‹å¸ˆ', '3Då»ºæ¨¡å¸ˆ', 'èˆªç©ºç®¡åˆ¶å‘˜', 'åœ°è´¨å‹˜æ¢å‘˜', 'èˆå°ç¾æœ¯è®¾è®¡', 'é™ˆåˆ—è®¾è®¡å¸ˆ'],
        'B': ['ä½œå®¶', 'ç¼–è¾‘', 'è®°è€…', 'æ–‡æ¡ˆç­–åˆ’', 'å…¬å…³ä¸“å‘˜', 'ç¿»è¯‘', 'å¾‹å¸ˆ', 'ç¼–å‰§', 'è‡ªåª’ä½“åšä¸»', 'æ’­å®¢ä¸»æ’­', 'è¯­æ–‡æ•™å¸ˆ', 'æ¼”è®²åŸ¹è®­å¸ˆ', 'è„±å£ç§€æ¼”å‘˜'],
        'C': ['è½¯ä»¶å·¥ç¨‹å¸ˆ', 'æ•°æ®åˆ†æå¸ˆ', 'ç®—æ³•å·¥ç¨‹å¸ˆ', 'è´¢åŠ¡é¡¾é—®', 'å®¡è®¡å¸ˆ', 'ç²¾ç®—å¸ˆ', 'ä¾¦æ¢', 'ç§‘ç ”äººå‘˜', 'æˆ˜ç•¥å’¨è¯¢å¸ˆ', 'é‡åŒ–äº¤æ˜“å‘˜', 'ç½‘ç»œå®‰å…¨ä¸“å®¶'],
        'D': ['æ’ç”»å¸ˆ', 'æ¼«ç”»å®¶', 'å¹³é¢è®¾è®¡å¸ˆ', 'UIè®¾è®¡å¸ˆ', 'åŠ¨ç”»å¸ˆ', 'æ¸¸æˆåŸç”»å¸ˆ', 'çº¹èº«å¸ˆ', 'æœè£…è®¾è®¡å¸ˆ', 'æ‘„å½±å¸ˆ', 'è§†è§‰æ€»ç›‘', 'è‰ºæœ¯ä¿®å¤å¸ˆ'],
        'E': ['æ—¶å°šä¹°æ‰‹', 'é€ å‹å¸ˆ', 'èŠ±è‰ºå¸ˆ', 'ç å®è®¾è®¡å¸ˆ', 'å©šç¤¼ç­–åˆ’å¸ˆ', 'è½¯è£…è®¾è®¡å¸ˆ', 'è‰ºæœ¯ç­–å±•äºº', 'ç¾å¦†åšä¸»', 'äº§å“å¤–è§‚è®¾è®¡', 'å¥¢ä¾ˆå“é‰´å®šå¸ˆ'],
        'F': ['æ­Œæ‰‹', 'ä¹æ‰‹', 'ä½œæ›²å®¶', 'ç¼–æ›²å¸ˆ', 'å½•éŸ³å¸ˆ', 'DJ', 'éŸ³ä¹åˆ¶ä½œäºº', 'å£°ä¹è€å¸ˆ', 'é’¢ç´è°ƒå¾‹', 'éŸ³æ•ˆè®¾è®¡å¸ˆ', 'éŸ³ä¹æ²»ç–—å¸ˆ'],
        'G': ['äººåŠ›èµ„æº', 'é”€å”®ç»ç†', 'å¿ƒç†å’¨è¯¢å¸ˆ', 'æ´»åŠ¨ç­–åˆ’', 'ç¤¾ç¾¤è¿è¥', 'å…¬å…³ç»ç†', 'å®¢æœæ€»ç›‘', 'é…’åº—ç®¡ç†', 'å¯¼æ¸¸', 'è°ˆåˆ¤ä¸“å®¶', 'æ”¿åŠ¡äººå‘˜'],
        'H': ['åˆ›ä¸šè€…', 'äº§å“ç»ç†', 'å¹¿å‘Šåˆ›æ„æ€»ç›‘', 'å‘æ˜å®¶', 'R&Dç ”å‘', 'å•†ä¸šæ¨¡å¼è®¾è®¡å¸ˆ', 'é£é™©æŠ•èµ„äºº', 'ç§‘å¹»ä½œå®¶', 'æ¸¸æˆç­–åˆ’', 'åˆ›æ–°é¡¾é—®'],
        'I': ['è¿åŠ¨å‘˜', 'å¥èº«æ•™ç»ƒ', 'èˆè¹ˆæ¼”å‘˜', 'å¤–ç§‘åŒ»ç”Ÿ', 'æ‰‹å·¥è‰ºäºº', 'æœºæ¢°ç»´ä¿®å¸ˆ', 'å¨å¸ˆ', 'ç†ç–—å¸ˆ', 'ç å®å·¥åŒ ', 'ç‰¹æŠ€æ¼”å‘˜', 'é™¶è‰ºå¸ˆ'],
        'J': ['å“²å­¦å®¶', 'å¿ƒç†å­¦å®¶', 'ç¥å­¦å®¶', 'èŒä¸šè§„åˆ’å¸ˆ', 'ä¸ªäººæˆé•¿æ•™ç»ƒ', 'ç‹¬ç«‹ç ”ç©¶å‘˜', 'ä½œå®¶(æ·±åº¦ç±»)', 'å†¥æƒ³å¯¼å¸ˆ', 'æ¡£æ¡ˆç®¡ç†å‘˜', 'å›¾ä¹¦ç®¡ç†å‘˜']
    };

    const questions = [
        { id: 1, text: 'æˆ‘èƒ½å¤Ÿè½»æ¾åœ°åœ¨è„‘æµ·ä¸­æƒ³è±¡ä¸‰ç»´ç‰©ä½“çš„æ ·å­', dimension: 'A' },
        { id: 2, text: 'æˆ‘å¾ˆå°‘è¿·è·¯,æ–¹å‘æ„Ÿå¾ˆå¼º', dimension: 'A' },
        { id: 3, text: 'æˆ‘å–œæ¬¢æ‹¼å›¾ã€ç§¯æœ¨ç­‰éœ€è¦ç©ºé—´æ€ç»´çš„æ¸¸æˆ', dimension: 'A' },
        { id: 4, text: 'æˆ‘èƒ½å¤Ÿå¿«é€Ÿåˆ¤æ–­ç‰©ä½“ä¹‹é—´çš„è·ç¦»å’Œä½ç½®å…³ç³»', dimension: 'A' },
        { id: 5, text: 'æˆ‘æ“…é•¿ç”¨è¯­è¨€è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•å’Œæ„Ÿå—', dimension: 'B' },
        { id: 6, text: 'æˆ‘å–œæ¬¢é˜…è¯»å„ç±»ä¹¦ç±,é˜…è¯»é€Ÿåº¦è¾ƒå¿«', dimension: 'B' },
        { id: 7, text: 'æˆ‘èƒ½å¤Ÿè½»æ¾è®°ä½æ–°å­¦çš„è¯æ±‡å’Œè¡¨è¾¾æ–¹å¼', dimension: 'B' },
        { id: 8, text: 'æˆ‘å–œæ¬¢å†™ä½œ,èƒ½å¤Ÿæµç•…åœ°ç»„ç»‡æ–‡å­—', dimension: 'B' },
        { id: 9, text: 'æˆ‘æ“…é•¿æ•°å­¦è®¡ç®—å’Œé€»è¾‘æ¨ç†', dimension: 'C' },
        { id: 10, text: 'æˆ‘å–œæ¬¢è§£å†³å¤æ‚çš„é—®é¢˜å’Œè°œé¢˜', dimension: 'C' },
        { id: 11, text: 'æˆ‘èƒ½å¤Ÿå¿«é€Ÿå‘ç°äº‹ç‰©ä¹‹é—´çš„è§„å¾‹å’Œæ¨¡å¼', dimension: 'C' },
        { id: 12, text: 'æˆ‘å–œæ¬¢ç”¨æ•°æ®å’Œäº‹å®æ¥æ”¯æŒæˆ‘çš„è§‚ç‚¹', dimension: 'C' },
        { id: 13, text: 'æˆ‘å–œæ¬¢ç”»ç”»,èƒ½å¤Ÿå‡†ç¡®åœ°æç»˜æˆ‘çœ‹åˆ°çš„äº‹ç‰©', dimension: 'D' },
        { id: 14, text: 'æˆ‘å¯¹çº¿æ¡ã€å½¢çŠ¶å’Œæ„å›¾æœ‰è¾ƒå¼ºçš„æ„ŸçŸ¥åŠ›', dimension: 'D' },
        { id: 15, text: 'æˆ‘èƒ½å¤Ÿé€šè¿‡è§†è§‰è‰ºæœ¯è¡¨è¾¾æƒ…æ„Ÿå’Œæƒ³æ³•', dimension: 'D' },
        { id: 16, text: 'æˆ‘ç»å¸¸å…³æ³¨å‘¨å›´ç¯å¢ƒçš„è§†è§‰ç»†èŠ‚', dimension: 'D' },
        { id: 17, text: 'æˆ‘å¯¹è‰²å½©æ­é…å’Œè§†è§‰ç¾æ„Ÿå¾ˆæ•æ„Ÿ', dimension: 'E' },
        { id: 18, text: 'æˆ‘èƒ½å¤Ÿæ¬£èµä¸åŒè‰ºæœ¯é£æ ¼çš„ç¾', dimension: 'E' },
        { id: 19, text: 'æˆ‘å–œæ¬¢è®¾è®¡å’Œè£…é¥°ç©ºé—´,è¿½æ±‚ç¾çš„ä½“éªŒ', dimension: 'E' },
        { id: 20, text: 'æˆ‘å¯¹æ—¶å°šã€è®¾è®¡ç­‰ç¾å­¦é¢†åŸŸå¾ˆæ„Ÿå…´è¶£', dimension: 'E' },
        { id: 21, text: 'æˆ‘å¯¹éŸ³ä¹èŠ‚å¥å’Œæ—‹å¾‹å¾ˆæ•æ„Ÿ', dimension: 'F' },
        { id: 22, text: 'æˆ‘èƒ½å¤Ÿè½»æ¾åœ°å­¦ä¼šå”±æ­Œæˆ–æ¼”å¥ä¹å™¨', dimension: 'F' },
        { id: 23, text: 'éŸ³ä¹èƒ½å¤Ÿæ·±æ·±åœ°è§¦åŠ¨æˆ‘çš„æƒ…æ„Ÿ', dimension: 'F' },
        { id: 24, text: 'æˆ‘å–œæ¬¢åˆ›ä½œæˆ–æ”¹ç¼–éŸ³ä¹', dimension: 'F' },
        { id: 25, text: 'æˆ‘èƒ½å¤Ÿè½»æ¾åœ°ä¸ä¸åŒç±»å‹çš„äººäº¤æµ', dimension: 'G' },
        { id: 26, text: 'æˆ‘æ“…é•¿ç†è§£ä»–äººçš„æƒ…ç»ªå’Œéœ€æ±‚', dimension: 'G' },
        { id: 27, text: 'æˆ‘å–œæ¬¢å›¢é˜Ÿåˆä½œ,èƒ½å¤Ÿåè°ƒä¸åŒæ„è§', dimension: 'G' },
        { id: 28, text: 'æœ‹å‹ä»¬ç»å¸¸å‘æˆ‘å¯»æ±‚å»ºè®®å’Œå¸®åŠ©', dimension: 'G' },
        { id: 29, text: 'æˆ‘ç»å¸¸æœ‰æ–°å¥‡çš„æƒ³æ³•å’Œåˆ›æ„', dimension: 'H' },
        { id: 30, text: 'æˆ‘å–œæ¬¢å°è¯•æ–°äº‹ç‰©,ä¸æ€•å¤±è´¥', dimension: 'H' },
        { id: 31, text: 'æˆ‘èƒ½å¤Ÿä»ä¸åŒè§’åº¦æ€è€ƒé—®é¢˜', dimension: 'H' },
        { id: 32, text: 'æˆ‘æ“…é•¿å°†ä¸åŒçš„æƒ³æ³•ç»„åˆåˆ›æ–°', dimension: 'H' },
        { id: 33, text: 'æˆ‘çš„èº«ä½“åè°ƒæ€§å’Œè¿åŠ¨èƒ½åŠ›è¾ƒå¼º', dimension: 'I' },
        { id: 34, text: 'æˆ‘å–œæ¬¢é€šè¿‡èº«ä½“æ´»åŠ¨æ¥è¡¨è¾¾è‡ªå·±', dimension: 'I' },
        { id: 35, text: 'æˆ‘æ“…é•¿æ‰‹å·¥åˆ¶ä½œå’Œç²¾ç»†æ“ä½œ', dimension: 'I' },
        { id: 36, text: 'æˆ‘èƒ½å¤Ÿå¿«é€Ÿå­¦ä¼šæ–°çš„è¿åŠ¨æŠ€èƒ½', dimension: 'I' },
        { id: 37, text: 'æˆ‘ç»å¸¸åæ€è‡ªå·±çš„è¡Œä¸ºå’Œæƒ³æ³•', dimension: 'J' },
        { id: 38, text: 'æˆ‘æ¸…æ¥šåœ°äº†è§£è‡ªå·±çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿', dimension: 'J' },
        { id: 39, text: 'æˆ‘å–œæ¬¢ç‹¬å¤„,æ€è€ƒäººç”Ÿå’Œä»·å€¼è§‚', dimension: 'J' },
        { id: 40, text: 'æˆ‘èƒ½å¤Ÿå®¢è§‚åœ°è¯„ä»·è‡ªå·±çš„è¡¨ç°', dimension: 'J' }
    ];

    let currentQuestion = 0;
    let answers = {};
    let currentCard = '';

    // ============ å¡å¯†éªŒè¯é€»è¾‘ (ä¿®å¤) ============
    function verifyCard() {
        const input = document.getElementById('cardCode').value.trim();
        if(!input) return alert('è¯·è¾“å…¥å¡å·');
        
        // ä¸‡èƒ½å¡å¯†
        if(input === CONFIG.MASTER_CODE) {
            startTest(input);
            return;
        }

        // éªŒè¯å¡å¯†
        const cards = JSON.parse(localStorage.getItem('talent_cards') || '[]');
        const card = cards.find(c => c.code === input);

        if(!card) {
            alert('æ— æ•ˆçš„å¡å·ï¼Œè¯·è”ç³»ç®¡ç†å‘˜è·å–');
            return;
        }
        if(card.used) {
            alert('è¯¥å¡å·å·²è¢«ä½¿ç”¨');
            return;
        }

        // æ ‡è®°å·²ä½¿ç”¨
        card.used = true;
        card.useTime = new Date().toISOString();
        localStorage.setItem('talent_cards', JSON.stringify(cards));

        startTest(input);
    }

    function startTest(code) {
        currentCard = code;
        document.getElementById('verifyPage').classList.add('hidden');
        document.getElementById('testPage').classList.remove('hidden');
        showQuestion();
    }

    // ============ ç­”é¢˜é€»è¾‘ ============
    function showQuestion() {
        const q = questions[currentQuestion];
        const progress = ((currentQuestion + 1) / questions.length) * 100;
        document.getElementById('progressFill').style.width = progress + '%';
        document.getElementById('progressText').innerText = `è¿›åº¦ï¼š${currentQuestion + 1} / ${questions.length}`;
        document.getElementById('questionText').innerText = q.text;

        document.getElementById('prevBtn').style.visibility = currentQuestion === 0 ? 'hidden' : 'visible';

        const optionsHtml = ['å®Œå…¨ä¸ç¬¦','ä¸å¤ªç¬¦åˆ','ä¸€èˆ¬','æ¯”è¾ƒç¬¦åˆ','éå¸¸ç¬¦åˆ'].map((opt, idx) => {
            const isSel = answers[q.id] === idx ? 'selected' : '';
            return `<div class="option ${isSel}" onclick="selectOption(${idx})">${opt}</div>`;
        }).join('');
        document.getElementById('options').innerHTML = optionsHtml;
    }

    function selectOption(val) {
        const q = questions[currentQuestion];
        answers[q.id] = val;
        
        const opts = document.querySelectorAll('.option');
        opts.forEach(o => o.classList.remove('selected'));
        event.target.classList.add('selected');

        setTimeout(() => {
            nextQ(true);
        }, 200);
    }

    function nextQ(isAuto=false) {
        if(!isAuto && answers[questions[currentQuestion].id] === undefined) return alert('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
        if(isAuto && answers[questions[currentQuestion].id] === undefined) return;

        if (currentQuestion < questions.length - 1) {
            currentQuestion++;
            showQuestion();
        } else {
            completeTest();
        }
    }

    function prevQ() {
        if (currentQuestion > 0) {
            currentQuestion--;
            showQuestion();
        }
    }

    function completeTest() {
        const scores = {};
        const counts = {};
        questions.forEach(q => {
            const ans = answers[q.id];
            if(ans !== undefined) {
                scores[q.dimension] = (scores[q.dimension] || 0) + (ans + 1);
                counts[q.dimension] = (counts[q.dimension] || 0) + 1;
            }
        });
        Object.keys(scores).forEach(k => {
            scores[k] = Math.round(scores[k] / counts[k] * 4); 
        });
        sessionStorage.setItem('talentResult', JSON.stringify(scores));
        showResult(scores);
    }

    function showResult(scores) {
        document.getElementById('testPage').classList.add('hidden');
        document.getElementById('resultPage').classList.remove('hidden');

        const sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
        const top3 = sorted.slice(0,3);
        const top3Names = top3.map(s => dimensionNames[s[0]]).join('ã€');

        document.getElementById('resultName').innerText = `ä½ æœ€å…·æœ‰ ${top3Names} å¤©èµ‹`;
        
        drawChart('radarChart', scores);

        let scoreHtml = '';
        sorted.forEach((item, index) => {
            const dimCode = item[0];
            const score = item[1];
            const isHigh = index < 3; 
            scoreHtml += `
                <div class="score-card-mini ${isHigh ? 'high' : ''}">
                    <span class="sc-name">${dimensionNames[dimCode]}</span>
                    <span class="sc-val" style="${isHigh ? 'color:#667eea' : ''}">${score}åˆ†</span>
                </div>
            `;
        });
        document.getElementById('allScoresGrid').innerHTML = scoreHtml;

        const top1Name = dimensionNames[top3[0][0]];
        const top2Name = dimensionNames[top3[1][0]];
        document.getElementById('freeAnalysisBox').innerHTML = `
            <div class="point-title">
                <span class="point-tag">æ ¸å¿ƒä¼˜åŠ¿</span> ä½ çš„å¤©èµ‹ç»„åˆæ˜¯æå…·ç«äº‰åŠ›çš„ã€‚
            </div>
            <p class="analysis-point">æ•°æ®è¡¨æ˜ï¼Œä½ åœ¨ <strong>${top1Name}</strong> ç»´åº¦è¶…è¶Šäº† 92% çš„æµ‹è¯•è€…ï¼Œè¿™èµ‹äºˆäº†ä½ æå¼ºçš„ç›´è§‰å’Œæ•é”åº¦ã€‚ç»“åˆä½ çš„ç¬¬äºŒä¼˜åŠ¿ <strong>${top2Name}</strong>ï¼Œä½ éå¸¸é€‚åˆä»äº‹é‚£äº›éœ€è¦æ·±åº¦æ€è€ƒä¸æ‰§è¡ŒåŠ›ç»“åˆçš„å·¥ä½œã€‚</p>
            
            <div class="point-title" style="margin-top:12px;">
                <span class="point-tag" style="background:#fff0f0; color:#d63031;">æ½œåœ¨ç“¶é¢ˆ</span>
            </div>
            <p class="analysis-point" style="margin-bottom:0;">ä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä½ çš„ <strong>${dimensionNames[sorted[9][0]]}</strong> å¾—åˆ†è¾ƒä½ï¼Œè¿™å¯èƒ½æ˜¯é™åˆ¶ä½ ç›®å‰èŒä¸šçªç ´çš„å…³é”®éšå½¢çŸ­æ¿ã€‚å»ºè®®æŸ¥çœ‹å®Œæ•´æŠ¥å‘Šä¸­çš„ã€é¿å‘æŒ‡å—ã€‘ã€‚</p>
        `;

        window.scrollTo(0,0);
    }

    // ============ æ”¯ä»˜ä¸å±•ç¤º ============
    function scrollToPay() { document.getElementById('paySection').scrollIntoView({behavior:'smooth'}); }
    function scrollToQR() { document.querySelector('.qr-section').scrollIntoView({behavior:'smooth'}); }
    function aliPay() { window.location.href = CONFIG.ALIPAY_URL; }

    function handleUpload(e) {
        if(e.target.files.length === 0) return;
        document.querySelector('.upload-btn').innerText = 'â³ æ­£åœ¨ç”ŸæˆæŠ¥å‘Š...';
        fetch(`https://sctapi.ftqq.com/${CONFIG.SERVER_KEY}.send`, {
            method: 'POST', headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ title: 'ğŸ’°æ–°è®¢å•-å¤©èµ‹æµ‹è¯„-2.99', desp: `å¡å·:${currentCard}\næ–‡ä»¶:${e.target.files[0].name}` })
        }).catch(()=>{});

        setTimeout(() => {
            document.getElementById('resultPage').classList.add('hidden');
            document.getElementById('detailedPage').classList.remove('hidden');
            renderDetailedReport();
            window.scrollTo(0,0);
        }, 1500);
    }

    function renderDetailedReport() {
        const scores = JSON.parse(sessionStorage.getItem('talentResult'));
        const sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
        const top3 = sorted.slice(0,3);
        const top3Names = top3.map(s => dimensionNames[s[0]]).join('ã€');

        document.getElementById('detailedName').innerText = `ä½ æœ€å…·æœ‰ ${top3Names} å¤©èµ‹`;
        drawChart('radarChart2', scores);

        document.getElementById('overallAnalysis').innerHTML = `
            <p>ä½ æ˜¯ä¸€ä¸ª<strong>${top3Names}å‹</strong>çš„äººæ‰ã€‚ä½ çš„æ ¸å¿ƒå¤©èµ‹å¾—åˆ†ä¸º<strong style="color:#667eea">${top3[0][1]}åˆ†</strong>ï¼Œå¤„äºäººç¾¤å‰5%æ°´å¹³ã€‚</p>
            <p>è¿™ç§ç»„åˆéå¸¸ç½•è§ï¼Œé€šå¸¸å‡ºç°åœ¨è¯¥é¢†åŸŸçš„ä¸“å®¶æˆ–åˆ›æ–°è€…èº«ä¸Šã€‚</p>
        `;

        let jobHtml = '<div class="job-category">';
        top3.forEach((item, index) => {
            const dimCode = item[0];
            const dimName = dimensionNames[dimCode];
            const jobs = careerDB[dimCode] || [];
            jobHtml += `<div class="job-cat-title">åŸºäºã€${dimName}ã€‘å¤©èµ‹æ¨èï¼š</div><div class="job-list">`;
            jobHtml += jobs.map(job => `<span class="job-tag">${job}</span>`).join('');
            jobHtml += `</div><br>`;
        });
        jobHtml += '</div>';

        document.getElementById('careerAdvice').innerHTML = jobHtml;

        document.getElementById('strengthsAnalysis').innerHTML = `
            <p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong>${dimensionNames[top3[0][0]]}èƒ½åŠ›è®©ä½ èƒ½å¿«é€Ÿæ´å¯Ÿæœ¬è´¨ï¼Œ${dimensionNames[top3[1][0]]}èƒ½åŠ›åŠ©ä½ é«˜æ•ˆæ‰§è¡Œã€‚</p>
            <p><strong>æ½œåœ¨é£é™©ï¼š</strong>åœ¨${dimensionNames[sorted[9][0]]}ï¼ˆ${sorted[9][1]}åˆ†ï¼‰æ–¹é¢è¾ƒå¼±ï¼Œå»ºè®®å¯»æ‰¾äº’è¡¥å‹æ­æ¡£ã€‚</p>
        `;

        document.getElementById('growthPath').innerHTML = `
            <p><strong>çŸ­æœŸï¼ˆ1-3ä¸ªæœˆï¼‰ï¼š</strong>é€šè¿‡ä¸“é¡¹è®­ç»ƒå¼ºåŒ–${dimensionNames[top3[0][0]]}æŠ€èƒ½ã€‚</p>
            <p><strong>ä¸­æœŸï¼ˆ6-12ä¸ªæœˆï¼‰ï¼š</strong>å°è¯•è´Ÿè´£ä¸€ä¸ªå°é¡¹ç›®ï¼ŒéªŒè¯èƒ½åŠ›ã€‚</p>
            <p><strong>é•¿æœŸï¼ˆ1-3å¹´ï¼‰ï¼š</strong>æˆä¸ºè¯¥é¢†åŸŸçš„ç‹¬ç«‹è´Ÿè´£äººæˆ–ä¸“å®¶ã€‚</p>
        `;
    }

    // ä¿®å¤é›·è¾¾å›¾æ˜¾ç¤ºå…·ä½“åˆ†æ•°
    function drawChart(id, scores) {
        const ctx = document.getElementById(id);
        const chartStatus = Chart.getChart(id);
        if (chartStatus != undefined) { chartStatus.destroy(); }

        const labels = Object.keys(dimensionNames).map(k => dimensionNames[k]);
        const data = Object.keys(dimensionNames).map(k => scores[k]);
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'å¤©èµ‹å¾—åˆ†',
                    data: data,
                    backgroundColor: 'rgba(102, 126, 234, 0.2)',
                    borderColor: '#667eea',
                    borderWidth: 2,
                    pointBackgroundColor: '#667eea'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { 
                    r: { 
                        min: 0, 
                        max: 20, 
                        ticks: {
                            display: true,
                            stepSize: 5
                        },
                        pointLabels: {
                            font: {
                                size: 11
                            }
                        }
                    } 
                },
                plugins: { 
                    legend: {display:false},
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.formattedValue + 'åˆ†';
                            }
                        }
                    }
                }
            }
        });
    }

    function copyWx() { 
        navigator.clipboard.writeText("HCH91178").then(()=>{
            alert('å¾®ä¿¡å·å·²å¤åˆ¶ï¼\nå³å°†è·³è½¬å¾®ä¿¡...'); 
            setTimeout(()=>{ window.location.href="weixin://"; }, 500);
        }).catch(()=>alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶')); 
    }

    function copyTxt(t) { navigator.clipboard.writeText(t).then(()=>alert('å¤åˆ¶æˆåŠŸ')).catch(()=>alert('å¤åˆ¶å¤±è´¥')); }
    
    // ============ åå°ç®¡ç†ç³»ç»Ÿ ============
    function showAdminPanel() { 
        document.getElementById('verifyPage').classList.add('hidden');
        document.getElementById('adminPage').classList.remove('hidden');
    }

    function loginAdmin() {
        const p = document.getElementById('adminPwdInput').value;
        if(p === CONFIG.ADMIN_PWD) {
            document.getElementById('adminContent').classList.remove('hidden');
            renderAdmin();
        } else {
            alert('å¯†ç é”™è¯¯');
        }
    }

    function genCards() {
        const count = parseInt(document.getElementById('genCount').value);
        if(!count || count < 1) return alert('è¯·è¾“å…¥æ•°é‡');
        
        let cards = JSON.parse(localStorage.getItem('talent_cards') || '[]');
        const newCards = [];
        
        for(let i=0; i<count; i++) {
            // ç”Ÿæˆ TF-XXXX-XXXX æ ¼å¼
            const code = 'TF-' + Math.random().toString(36).substr(2,4).toUpperCase() + '-' + Math.random().toString(36).substr(2,4).toUpperCase();
            newCards.push({ code: code, used: false, time: new Date().toLocaleString() });
        }
        
        cards = [...newCards, ...cards];
        localStorage.setItem('talent_cards', JSON.stringify(cards));
        alert(`æˆåŠŸç”Ÿæˆ ${count} ä¸ªå¡å¯†`);
        renderAdmin();
    }

    function renderAdmin() {
        const cards = JSON.parse(localStorage.getItem('talent_cards') || '[]');
        const validCount = cards.filter(c => !c.used).length;
        document.getElementById('validCount').innerText = validCount;

        let html = '';
        cards.slice(0, 50).forEach(c => {
            html += `<div style="display:flex; justify-content:space-between; margin-bottom:5px; border-bottom:1px solid #ddd; padding-bottom:2px;">
                <span style="font-weight:bold; color:${c.used ? '#999' : 'green'}">${c.code}</span>
                <span>${c.used ? 'ğŸ”´ å·²ç”¨' : 'ğŸŸ¢ æœªç”¨'}</span>
            </div>`;
        });
        document.getElementById('cardList').innerHTML = html;
    }

    function exportCards() {
        const cards = JSON.parse(localStorage.getItem('talent_cards') || '[]');
        if(cards.length === 0) return alert('æ²¡æœ‰å¡å¯†');
        // åªå¯¼å‡ºçº¯å¡å·
        const text = cards.map(c => c.code).join('\n');
        const blob = new Blob([text], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'talent_cards.txt';
        a.click();
    }
</script>
</body>
</html>
